# Comparing `tmp/functime-0.3.1-py3-none-any.whl.zip` & `tmp/functime-0.3.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,43 +1,44 @@
-Zip file size: 57211 bytes, number of entries: 41
--rw-r--r--  2.0 unx       66 b- defN 23-Jul-26 23:58 functime/__init__.py
--rw-r--r--  2.0 unx      117 b- defN 23-Jul-26 23:58 functime/__main__.py
--rw-r--r--  2.0 unx     5908 b- defN 23-Jul-26 23:58 functime/backtesting.py
--rw-r--r--  2.0 unx     1838 b- defN 23-Jul-26 23:58 functime/conformal.py
--rw-r--r--  2.0 unx     1379 b- defN 23-Jul-26 23:58 functime/conversion.py
--rw-r--r--  2.0 unx     5549 b- defN 23-Jul-26 23:58 functime/cross_validation.py
--rw-r--r--  2.0 unx      123 b- defN 23-Jul-26 23:58 functime/embeddings.py
--rw-r--r--  2.0 unx     1495 b- defN 23-Jul-26 23:58 functime/offsets.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-26 23:58 functime/plotting.py
--rw-r--r--  2.0 unx    20125 b- defN 23-Jul-26 23:58 functime/preprocessing.py
--rw-r--r--  2.0 unx     1976 b- defN 23-Jul-26 23:58 functime/ranges.py
--rw-r--r--  2.0 unx      217 b- defN 23-Jul-26 23:58 functime/base/__init__.py
--rw-r--r--  2.0 unx     8253 b- defN 23-Jul-26 23:58 functime/base/forecaster.py
--rw-r--r--  2.0 unx     1630 b- defN 23-Jul-26 23:58 functime/base/metric.py
--rw-r--r--  2.0 unx     2771 b- defN 23-Jul-26 23:58 functime/base/model.py
--rw-r--r--  2.0 unx     2155 b- defN 23-Jul-26 23:58 functime/base/transformer.py
--rw-r--r--  2.0 unx      285 b- defN 23-Jul-26 23:58 functime/feature_extraction/__init__.py
--rw-r--r--  2.0 unx     4294 b- defN 23-Jul-26 23:58 functime/feature_extraction/calendar.py
--rw-r--r--  2.0 unx      745 b- defN 23-Jul-26 23:58 functime/forecasting/__init__.py
--rw-r--r--  2.0 unx    12667 b- defN 23-Jul-26 23:58 functime/forecasting/_ar.py
--rw-r--r--  2.0 unx     4909 b- defN 23-Jul-26 23:58 functime/forecasting/_evaluate.py
--rw-r--r--  2.0 unx     2231 b- defN 23-Jul-26 23:58 functime/forecasting/_reduction.py
--rw-r--r--  2.0 unx     7569 b- defN 23-Jul-26 23:58 functime/forecasting/_regressors.py
--rw-r--r--  2.0 unx     8513 b- defN 23-Jul-26 23:58 functime/forecasting/automl.py
--rw-r--r--  2.0 unx     2175 b- defN 23-Jul-26 23:58 functime/forecasting/catboost.py
--rw-r--r--  2.0 unx     3717 b- defN 23-Jul-26 23:58 functime/forecasting/censored.py
--rw-r--r--  2.0 unx     1010 b- defN 23-Jul-26 23:58 functime/forecasting/knn.py
--rw-r--r--  2.0 unx     3703 b- defN 23-Jul-26 23:58 functime/forecasting/lance.py
--rw-r--r--  2.0 unx     4208 b- defN 23-Jul-26 23:58 functime/forecasting/lightgbm.py
--rw-r--r--  2.0 unx     3958 b- defN 23-Jul-26 23:58 functime/forecasting/linear.py
--rw-r--r--  2.0 unx     2412 b- defN 23-Jul-26 23:58 functime/forecasting/xgboost.py
--rw-r--r--  2.0 unx      229 b- defN 23-Jul-26 23:58 functime/metrics/__init__.py
--rw-r--r--  2.0 unx     3826 b- defN 23-Jul-26 23:58 functime/metrics/multi_objective.py
--rw-r--r--  2.0 unx     6810 b- defN 23-Jul-26 23:58 functime/metrics/point.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-26 23:58 functime/metrics/probabilistic.py
--rw-r--r--  2.0 unx    34523 b- defN 23-Jul-26 23:59 functime-0.3.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     7412 b- defN 23-Jul-26 23:59 functime-0.3.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-26 23:59 functime-0.3.1.dist-info/WHEEL
--rw-r--r--  2.0 unx       52 b- defN 23-Jul-26 23:59 functime-0.3.1.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        9 b- defN 23-Jul-26 23:59 functime-0.3.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3436 b- defN 23-Jul-26 23:59 functime-0.3.1.dist-info/RECORD
-41 files, 172387 bytes uncompressed, 51731 bytes compressed:  70.0%
+Zip file size: 58146 bytes, number of entries: 42
+-rw-r--r--  2.0 unx       66 b- defN 23-Jul-27 15:46 functime/__init__.py
+-rw-r--r--  2.0 unx      117 b- defN 23-Jul-27 15:46 functime/__main__.py
+-rw-r--r--  2.0 unx     5908 b- defN 23-Jul-27 15:46 functime/backtesting.py
+-rw-r--r--  2.0 unx     1838 b- defN 23-Jul-27 15:46 functime/conformal.py
+-rw-r--r--  2.0 unx     1379 b- defN 23-Jul-27 15:46 functime/conversion.py
+-rw-r--r--  2.0 unx     5549 b- defN 23-Jul-27 15:46 functime/cross_validation.py
+-rw-r--r--  2.0 unx      123 b- defN 23-Jul-27 15:46 functime/embeddings.py
+-rw-r--r--  2.0 unx     1495 b- defN 23-Jul-27 15:46 functime/offsets.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 15:46 functime/plotting.py
+-rw-r--r--  2.0 unx    20394 b- defN 23-Jul-27 15:46 functime/preprocessing.py
+-rw-r--r--  2.0 unx     1976 b- defN 23-Jul-27 15:46 functime/ranges.py
+-rw-r--r--  2.0 unx      217 b- defN 23-Jul-27 15:46 functime/base/__init__.py
+-rw-r--r--  2.0 unx     8253 b- defN 23-Jul-27 15:46 functime/base/forecaster.py
+-rw-r--r--  2.0 unx     1630 b- defN 23-Jul-27 15:46 functime/base/metric.py
+-rw-r--r--  2.0 unx     2771 b- defN 23-Jul-27 15:46 functime/base/model.py
+-rw-r--r--  2.0 unx     2155 b- defN 23-Jul-27 15:46 functime/base/transformer.py
+-rw-r--r--  2.0 unx      285 b- defN 23-Jul-27 15:46 functime/feature_extraction/__init__.py
+-rw-r--r--  2.0 unx     4294 b- defN 23-Jul-27 15:46 functime/feature_extraction/calendar.py
+-rw-r--r--  2.0 unx      745 b- defN 23-Jul-27 15:46 functime/forecasting/__init__.py
+-rw-r--r--  2.0 unx    12667 b- defN 23-Jul-27 15:46 functime/forecasting/_ar.py
+-rw-r--r--  2.0 unx     4909 b- defN 23-Jul-27 15:46 functime/forecasting/_evaluate.py
+-rw-r--r--  2.0 unx     2231 b- defN 23-Jul-27 15:46 functime/forecasting/_reduction.py
+-rw-r--r--  2.0 unx     7569 b- defN 23-Jul-27 15:46 functime/forecasting/_regressors.py
+-rw-r--r--  2.0 unx     8513 b- defN 23-Jul-27 15:46 functime/forecasting/automl.py
+-rw-r--r--  2.0 unx     2175 b- defN 23-Jul-27 15:46 functime/forecasting/catboost.py
+-rw-r--r--  2.0 unx     3717 b- defN 23-Jul-27 15:46 functime/forecasting/censored.py
+-rw-r--r--  2.0 unx     1010 b- defN 23-Jul-27 15:46 functime/forecasting/knn.py
+-rw-r--r--  2.0 unx     3703 b- defN 23-Jul-27 15:46 functime/forecasting/lance.py
+-rw-r--r--  2.0 unx     4208 b- defN 23-Jul-27 15:46 functime/forecasting/lightgbm.py
+-rw-r--r--  2.0 unx     3958 b- defN 23-Jul-27 15:46 functime/forecasting/linear.py
+-rw-r--r--  2.0 unx     1657 b- defN 23-Jul-27 15:46 functime/forecasting/naive.py
+-rw-r--r--  2.0 unx     2412 b- defN 23-Jul-27 15:46 functime/forecasting/xgboost.py
+-rw-r--r--  2.0 unx      312 b- defN 23-Jul-27 15:46 functime/metrics/__init__.py
+-rw-r--r--  2.0 unx     3826 b- defN 23-Jul-27 15:46 functime/metrics/multi_objective.py
+-rw-r--r--  2.0 unx     7432 b- defN 23-Jul-27 15:46 functime/metrics/point.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-27 15:46 functime/metrics/probabilistic.py
+-rw-r--r--  2.0 unx    34523 b- defN 23-Jul-27 15:47 functime-0.3.2.dist-info/LICENSE
+-rw-r--r--  2.0 unx     7412 b- defN 23-Jul-27 15:47 functime-0.3.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-27 15:47 functime-0.3.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx       52 b- defN 23-Jul-27 15:47 functime-0.3.2.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        9 b- defN 23-Jul-27 15:47 functime-0.3.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3522 b- defN 23-Jul-27 15:47 functime-0.3.2.dist-info/RECORD
+42 files, 175104 bytes uncompressed, 52532 bytes compressed:  70.0%
```

## zipnote {}

```diff
@@ -84,14 +84,17 @@
 
 Filename: functime/forecasting/lightgbm.py
 Comment: 
 
 Filename: functime/forecasting/linear.py
 Comment: 
 
+Filename: functime/forecasting/naive.py
+Comment: 
+
 Filename: functime/forecasting/xgboost.py
 Comment: 
 
 Filename: functime/metrics/__init__.py
 Comment: 
 
 Filename: functime/metrics/multi_objective.py
@@ -99,26 +102,26 @@
 
 Filename: functime/metrics/point.py
 Comment: 
 
 Filename: functime/metrics/probabilistic.py
 Comment: 
 
-Filename: functime-0.3.1.dist-info/LICENSE
+Filename: functime-0.3.2.dist-info/LICENSE
 Comment: 
 
-Filename: functime-0.3.1.dist-info/METADATA
+Filename: functime-0.3.2.dist-info/METADATA
 Comment: 
 
-Filename: functime-0.3.1.dist-info/WHEEL
+Filename: functime-0.3.2.dist-info/WHEEL
 Comment: 
 
-Filename: functime-0.3.1.dist-info/entry_points.txt
+Filename: functime-0.3.2.dist-info/entry_points.txt
 Comment: 
 
-Filename: functime-0.3.1.dist-info/top_level.txt
+Filename: functime-0.3.2.dist-info/top_level.txt
 Comment: 
 
-Filename: functime-0.3.1.dist-info/RECORD
+Filename: functime-0.3.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## functime/preprocessing.py

```diff
@@ -483,15 +483,27 @@
 
         artifacts = state.artifacts
         entity_col = X.columns[0]
         time_col = X.columns[1]
         idx_cols = entity_col, time_col
 
         X_cutoff = artifacts["X_last"] if from_last else artifacts["X_first"]
-        X_new = pl.concat([X, X_cutoff], how="diagonal").drop_nulls().sort(idx_cols)
+        X_new = (
+            pl.concat(
+                [
+                    X,
+                    X_cutoff.select(
+                        pl.col(col).cast(dtype) for col, dtype in X.schema.items()
+                    ),
+                ],
+                how="diagonal",
+            )
+            .drop_nulls()
+            .sort(idx_cols)
+        )
         for _ in range(order):
             X_new = _inverse_diff(X_new)  # noqa: F821
 
         return X.select(idx_cols).join(X_new, on=idx_cols, how="left")
 
     return transform, invert
```

## functime/metrics/__init__.py

```diff
@@ -1,13 +1,25 @@
-from .point import mae, mape, mase, mse, overforecast, rmse, rmsse, smape, underforecast
+from .point import (
+    mae,
+    mape,
+    mase,
+    mse,
+    overforecast,
+    rmse,
+    rmsse,
+    smape,
+    smape_original,
+    underforecast,
+)
 
 __all__ = [
     "mae",
     "mape",
     "mase",
     "mse",
     "rmse",
     "rmsse",
     "smape",
+    "smape_original",
     "overforecast",
     "underforecast",
 ]
```

## functime/metrics/point.py

```diff
@@ -137,14 +137,36 @@
     diff = (pl.col("pred") - pl.col("actual")).abs().sum()
     total = (pl.col("pred") + pl.col("actual")).sum()
     pct_error = diff / total
     return _score(y_true, y_pred, pct_error, "smape")
 
 
 @metric
+def smape_original(y_true: pl.DataFrame, y_pred: pl.DataFrame):
+    """Return symmetric mean absolute percentage error (sMAPE).
+
+    Parameters
+    ----------
+    y_true : pl.DataFrame
+        Ground truth (correct) target values.
+    y_pred : pl.DataFrame
+        Predicted values.
+
+    Returns
+    -------
+    scores : pl.DataFrame
+        Score per series.
+    """
+    num = 2 * (pl.col("pred") - pl.col("actual")).abs()
+    denom = 0.0001 + pl.col("actual").abs() + pl.col("pred").abs()
+    pct_error = (100 / pl.col("pred").len()) * (num / denom).sum()
+    return _score(y_true, y_pred, pct_error, "smape")
+
+
+@metric
 def mase(
     y_true: pl.DataFrame, y_pred: pl.DataFrame, y_train: pl.DataFrame, sp: int = 1
 ):
     """Return mean absolute scaled error (MASE).
 
     Parameters
     ----------
```

## Comparing `functime-0.3.1.dist-info/LICENSE` & `functime-0.3.2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `functime-0.3.1.dist-info/METADATA` & `functime-0.3.2.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: functime
-Version: 0.3.1
+Version: 0.3.2
 Summary: The easiest way to run and scale time-series machine learning in the Cloud.
 Author-email: functime Team <team@functime.ai>, Chris Lo <chris@functime.ai>, Daryl Lim <daryl@functime.ai>
 Project-URL: Homepage, https://github.com/descendant-ai/functime
 Classifier: Development Status :: 4 - Beta
 Classifier: Intended Audience :: Science/Research
 Classifier: Intended Audience :: Developers
 Classifier: Topic :: Software Development :: Libraries :: Python Modules
```

## Comparing `functime-0.3.1.dist-info/RECORD` & `functime-0.3.2.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -3,15 +3,15 @@
 functime/backtesting.py,sha256=S85juPZ_X3x52rIcXAxmalXGWQeRw3KCVXqVcR6aKns,5908
 functime/conformal.py,sha256=SLLPOEEzOdzVdFzCpNfmETmr4fHKqIhtJC-Xce6mHyo,1838
 functime/conversion.py,sha256=ulS0QWDUWgA3KgJ_2Gn0R-eMRWADN9sVfSOghtzjUIE,1379
 functime/cross_validation.py,sha256=uTkcotiLATM_qA0zfgWAIPaD4fJW9LSqiBABfAbeqvY,5549
 functime/embeddings.py,sha256=rupMM8Fs6-nExoWYHS-PWFHiEHXsrNBvP4o-PPzACos,123
 functime/offsets.py,sha256=GUCVLFs0xBSj_gsSaBz19ibBr_nquJVUxtuosObBucU,1495
 functime/plotting.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-functime/preprocessing.py,sha256=zd_oQWZSyef4m_YgVp7c3Ur5wi_NjYY7rpxucRjVEVM,20125
+functime/preprocessing.py,sha256=hU2flqwzR0bxCcObpJhPWHzflApEQ2uQI5W8NglC0jg,20394
 functime/ranges.py,sha256=b3biGP7s2OpoYopEGExELes79D_LdloDW4QH9j1slxI,1976
 functime/base/__init__.py,sha256=YKzO_7RyxYbn3-jTa4gipQxrwnzUQN2_d2edjDehLmw,217
 functime/base/forecaster.py,sha256=kzK7x_VzS0t-YIBZEpuQkdZs4CCVGBfp9NXxmFQXSfw,8253
 functime/base/metric.py,sha256=Ous83EZ4ADpcyvHnTGNaxekqKEkwQB7qbYWuzKiGAAI,1630
 functime/base/model.py,sha256=mL8GFL7qNNb4rufm3ZbLzxyDPoDuoHgQhpZ0t20AHv4,2771
 functime/base/transformer.py,sha256=qSuKYisdWL1qFufJlr50zNg-NryMX5q7MP61I1DgPHw,2155
 functime/feature_extraction/__init__.py,sha256=GS4FtQUUuzJZAJJ4g7fgamtbZhAecz8iwaQsejPTVhs,285
@@ -24,18 +24,19 @@
 functime/forecasting/automl.py,sha256=Wan9SoRzPdi7M8RkkniuHclxw1PO34XbC2EOPiwESW8,8513
 functime/forecasting/catboost.py,sha256=nF8I4AxJH7qDIu2BUGE_l7w-guNt8iYuNKH9oy-N3tU,2175
 functime/forecasting/censored.py,sha256=-iOSbD1byLF_ixsDKCLlqgY4YttRDyFbvRfoNGkXgok,3717
 functime/forecasting/knn.py,sha256=NA2-dCTHtVMUonuQMCU8i-bZuScB2H6mRVCXB_uUytQ,1010
 functime/forecasting/lance.py,sha256=LiEhbLrd6DpMoFhYjbjyPXWhHxNEdM_v_XdpPcgpwiU,3703
 functime/forecasting/lightgbm.py,sha256=1TPdFXhtXfp6cl7fQGzmHg1G0OUpAoSXZkvbiP1amKE,4208
 functime/forecasting/linear.py,sha256=adMbCOpqNZZDLICTULY8Ya6dDTCJacmeY0-76SC7odI,3958
+functime/forecasting/naive.py,sha256=Hv9U1x-jrCbPjGWDgIA-hSOl40at9ffPOj5TjuyOr8M,1657
 functime/forecasting/xgboost.py,sha256=kguM3IvqtJKSD3tysxgCiOe-NwApBew5tOO9_zxt4-I,2412
-functime/metrics/__init__.py,sha256=Bx-vU-jxkAg-zy2mVWYDtNOkluvgKJnL9uf0IhKIapw,229
+functime/metrics/__init__.py,sha256=4DE4A-UtFY8AfTAEmVGqrbs2tXQwtO7Ogq-BZJp4zr8,312
 functime/metrics/multi_objective.py,sha256=EP9sGQ4HSCRN1SQazoJfntcovMP6RAVf7hZMXgcA2gE,3826
-functime/metrics/point.py,sha256=HlkcYvGAtFPr8kiTHQnoXZujysg2DK-BuUJVmLwiNKM,6810
+functime/metrics/point.py,sha256=4rgQ0RJ8UR0xRxCOxxO2wuSHZFhj26XgLK4VBm3GHtQ,7432
 functime/metrics/probabilistic.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-functime-0.3.1.dist-info/LICENSE,sha256=hIahDEOTzuHCU5J2nd07LWwkLW7Hko4UFO__ffsvB-8,34523
-functime-0.3.1.dist-info/METADATA,sha256=-4WZtO2X6q7yALRUWUpoRsxloMYVQMReqBtBV0y_Vj0,7412
-functime-0.3.1.dist-info/WHEEL,sha256=AtBG6SXL3KF_v0NxLf0ehyVOh0cold-JbJYXNGorC6Q,92
-functime-0.3.1.dist-info/entry_points.txt,sha256=y-9Na7pOh73f05jw87NkCt13P24wV_2qPEDF6ylwSXI,52
-functime-0.3.1.dist-info/top_level.txt,sha256=RUXkPSxtl5ViacwkIXqV7W8uyhA9yNRqrLMFS-jhFP4,9
-functime-0.3.1.dist-info/RECORD,,
+functime-0.3.2.dist-info/LICENSE,sha256=hIahDEOTzuHCU5J2nd07LWwkLW7Hko4UFO__ffsvB-8,34523
+functime-0.3.2.dist-info/METADATA,sha256=0j3iB7dvO5WAWh3Uz7opRKbLvaVSOcIrRY29N6lQPm4,7412
+functime-0.3.2.dist-info/WHEEL,sha256=AtBG6SXL3KF_v0NxLf0ehyVOh0cold-JbJYXNGorC6Q,92
+functime-0.3.2.dist-info/entry_points.txt,sha256=y-9Na7pOh73f05jw87NkCt13P24wV_2qPEDF6ylwSXI,52
+functime-0.3.2.dist-info/top_level.txt,sha256=RUXkPSxtl5ViacwkIXqV7W8uyhA9yNRqrLMFS-jhFP4,9
+functime-0.3.2.dist-info/RECORD,,
```

