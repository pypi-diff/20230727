# Comparing `tmp/morm-1.4.6-py3-none-any.whl.zip` & `tmp/morm-1.5.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,25 @@
-Zip file size: 40705 bytes, number of entries: 23
+Zip file size: 43234 bytes, number of entries: 23
 -rw-r--r--  2.0 unx       50 b- defN 21-Apr-08 08:46 morm/__init__.py
--rw-r--r--  2.0 unx     1893 b- defN 21-Apr-08 08:46 morm/admin.py
+-rw-r--r--  2.0 unx     1943 b- defN 23-Jul-27 09:38 morm/admin.py
 -rw-r--r--  2.0 unx      636 b- defN 21-Apr-08 08:54 morm/datetime.py
 -rw-r--r--  2.0 unx    37130 b- defN 21-Apr-15 13:20 morm/db.py
 -rw-r--r--  2.0 unx      470 b- defN 21-Apr-08 08:46 morm/exceptions.py
 -rw-r--r--  2.0 unx     2915 b- defN 21-Apr-08 08:46 morm/meta.py
 -rw-r--r--  2.0 unx    22039 b- defN 21-Jul-21 14:32 morm/migration.py
 -rw-r--r--  2.0 unx    20820 b- defN 21-Jul-21 14:32 morm/model.py
 -rw-r--r--  2.0 unx     1015 b- defN 21-Apr-08 08:54 morm/pg_models.py
 -rw-r--r--  2.0 unx      681 b- defN 21-Apr-08 08:46 morm/q.py
 -rw-r--r--  2.0 unx     2097 b- defN 21-Apr-08 08:46 morm/types.py
 -rw-r--r--  2.0 unx      960 b- defN 21-Jul-21 14:59 morm/utils.py
--rw-r--r--  2.0 unx       89 b- defN 23-Jul-27 06:29 morm/version.py
+-rw-r--r--  2.0 unx       89 b- defN 23-Jul-27 09:21 morm/version.py
 -rw-r--r--  2.0 unx       26 b- defN 21-Apr-08 08:46 morm/fields/__init__.py
 -rw-r--r--  2.0 unx     1968 b- defN 21-Apr-08 08:54 morm/fields/common.py
 -rw-r--r--  2.0 unx    15604 b- defN 21-Jul-21 14:32 morm/fields/field.py
--rwxr-xr-x  2.0 unx     2353 b- defN 23-Jul-27 06:28 morm-1.4.6.data/scripts/init_fap
--rwxr-xr-x  2.0 unx       78 b- defN 23-Jul-27 06:29 morm-1.4.6.data/scripts/morm_admin
--rw-rw-r--  2.0 unx     1703 b- defN 23-Jul-27 06:29 morm-1.4.6.dist-info/LICENSE
--rw-r--r--  2.0 unx    13464 b- defN 23-Jul-27 06:29 morm-1.4.6.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-27 06:29 morm-1.4.6.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jul-27 06:29 morm-1.4.6.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1701 b- defN 23-Jul-27 06:29 morm-1.4.6.dist-info/RECORD
-23 files, 127789 bytes uncompressed, 38023 bytes compressed:  70.2%
+-rwxr-xr-x  2.0 unx     9198 b- defN 23-Jul-27 10:34 morm-1.5.0.data/scripts/init_fap
+-rwxr-xr-x  2.0 unx       78 b- defN 23-Jul-27 10:38 morm-1.5.0.data/scripts/morm_admin
+-rw-rw-r--  2.0 unx     1703 b- defN 23-Jul-27 10:38 morm-1.5.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx    13905 b- defN 23-Jul-27 10:38 morm-1.5.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-27 10:38 morm-1.5.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-27 10:38 morm-1.5.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1701 b- defN 23-Jul-27 10:38 morm-1.5.0.dist-info/RECORD
+23 files, 135125 bytes uncompressed, 40552 bytes compressed:  70.0%
```

## zipnote {}

```diff
@@ -42,29 +42,29 @@
 
 Filename: morm/fields/common.py
 Comment: 
 
 Filename: morm/fields/field.py
 Comment: 
 
-Filename: morm-1.4.6.data/scripts/init_fap
+Filename: morm-1.5.0.data/scripts/init_fap
 Comment: 
 
-Filename: morm-1.4.6.data/scripts/morm_admin
+Filename: morm-1.5.0.data/scripts/morm_admin
 Comment: 
 
-Filename: morm-1.4.6.dist-info/LICENSE
+Filename: morm-1.5.0.dist-info/LICENSE
 Comment: 
 
-Filename: morm-1.4.6.dist-info/METADATA
+Filename: morm-1.5.0.dist-info/METADATA
 Comment: 
 
-Filename: morm-1.4.6.dist-info/WHEEL
+Filename: morm-1.5.0.dist-info/WHEEL
 Comment: 
 
-Filename: morm-1.4.6.dist-info/top_level.txt
+Filename: morm-1.5.0.dist-info/top_level.txt
 Comment: 
 
-Filename: morm-1.4.6.dist-info/RECORD
+Filename: morm-1.5.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## morm/admin.py

```diff
@@ -14,48 +14,46 @@
 
 from morm.db import DB
 from morm.migration import Migration
 
 log = logging.getLogger('morm:admin')
 log.setLevel(logging.INFO)
 
-def init_project():
+def init_project(py_path):
     files = {
-        '_morm_config_.py': """
+        '_morm_config_.py': f"""
 from morm.db import Pool
 
 DB_POOL = Pool(
     dsn='postgres://',
     host='localhost',
     port=5432,
     user='user',
     password='pass',
     database='db_name',
     min_size=10,
     max_size=90,
 )
-            """,
-        'mgr.py': """
+""",
+        'mgr.py': f"""
 import os
 from morm.migration import migration_manager
 from _morm_config_ import DB_POOL
 
-from app.models import SomeModel, SomeOtherModel        # change accordingly
+from {py_path}.core.models.user import User
 
 MIGRATION_BASE_PATH = os.path.realpath('_migrations_')
 
-migration_models = [
-    SomeModel,                                          # change accordingly
-    SomeOtherModel,                                     # change accordingly
+migration_models = [ # Add models here to enable migration
+    User,
 ]
 
 if __name__ == '__main__':
     migration_manager(DB_POOL, MIGRATION_BASE_PATH, migration_models)
-"""
-
+""",
     }
 
     for name, content in files.items():
         try:
             with open(name, 'x', encoding='utf-8') as f:
                 f.write(content)
         except FileExistsError:
@@ -63,14 +61,17 @@
     return files
 
 def main():
     parser = argparse.ArgumentParser()
     parser.add_argument("cmd", type=str,
                         help="""Command:
                         init: Initialize a project""")
+    parser.add_argument("-p","--py-path", type=str, default='app',
+                        help="""Command:
+                        init -n app: Initialize a project named app""")
 
     args = parser.parse_args()
 
     if args.cmd == 'init':
-        return init_project()
+        return init_project(args.py_path)
     else:
         raise ValueError(f"E: Invalid command: {args.cmd}")
```

## morm/version.py

```diff
@@ -1,3 +1,3 @@
 
-__version_info__ = (1, 4, 6)
+__version_info__ = (1, 5, 0)
 __version__ = '.'.join([str(x) for x in __version_info__])
```

## Comparing `morm-1.4.6.dist-info/LICENSE` & `morm-1.5.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `morm-1.4.6.dist-info/METADATA` & `morm-1.5.0.dist-info/METADATA`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: morm
-Version: 1.4.6
+Version: 1.5.0
 Summary: A minimal asynchronous database object relational mapper
 Home-page: https://github.com/neurobin/python-morm
 Author: Md. Jahidul Hamid
 Author-email: jahidulhamid@yahoo.com
 License: BSD
 Keywords: async,orm,postgresql
 Classifier: Development Status :: 5 - Production/Stable
@@ -32,15 +32,15 @@
 
 ```bash
 pip install morm
 ```
 
 # Init project
 
-**Run `morm_admin init` in your project directory to make some default files such as `_morm_config_.py`, `mgr.py`**
+**Run `morm_admin init -p app` in your project directory to make some default files such as `_morm_config_.py`, `mgr.py`**
 
 Edit *_morm_config_.py* to put the correct database credentials:
 
 ```python
 from morm.db import Pool
 
 DB_POOL = Pool(
@@ -380,45 +380,58 @@
 # Do not do these
 
 1. Do not delete migration files manually, use `python mgr.py delete_migration_files <start_index> <end_index>` command instead.
 2. Do not modify mutable values in-place e.g `user.addresses.append('Some address')`, instead set the value: `user.addresses = [*user.addresses, 'Some address']` so that the `__setattr__` is called, on which `morm` depends for checking changed fields for the `db.save()` and related methods.
 
 # Initialize a FastAPI project
 
-Run `init_fap` in your project root. It will create a directory structure like this:
+Run `init_fap app` in your project root. It will create a directory structure like this:
 
 ```
 ├── app
 │   ├── core
 │   │   ├── __init__.py
 │   │   ├── models
+│   │   │   ├── base.py
 │   │   │   ├── __init__.py
+│   │   │   └── user.py
 │   │   ├── schemas
 │   │   │   └── __init__.py
 │   │   └── settings.py
 │   ├── __init__.py
 │   ├── main.py
 │   ├── tests
 │   │   ├── __init__.py
 │   │   └── v1
 │   │       ├── __init__.py
 │   │       └── test_sample.py
-│   └── v1
-│       ├── dependencies
-│       │   └── __init__.py
-│       ├── __init__.py
-│       ├── internal
-│       │   ├── __init__.py
-│       └── routers
-│           ├── __init__.py
+│   ├── v1
+│   │   ├── dependencies
+│   │   │   └── __init__.py
+│   │   ├── __init__.py
+│   │   ├── internal
+│   │   │   └── __init__.py
+│   │   └── routers
+│   │       ├── __init__.py
+│   │       └── root.py
+│   └── workers.py
+├── app.service
+├── .gitignore
+├── gunicorn.sh
+├── mgr
 ├── mgr.py
 ├── _morm_config_.py
+├── nginx
+│   ├── app
+│   └── default
 ├── requirements.txt
-├── .gitignore
 ├── run
+└── vact
 ```
 
-You can run the app with `./run` or
+You can run the app with `./run` or `./gunicorn.sh` or
 
 ```bash
 uvicorn app.main:app --reload --loop asyncio
 ```
+
+To run as a service with `systemctl start app`, copy the app.service to `/etc/systemd/system`
```

